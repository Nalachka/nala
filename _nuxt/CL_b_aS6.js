import{P as te,Q as j,j as S,R as ne,i as M,S as ie,H as le,l as re,T as W,O as se,f as L,U as oe,D as ue,m as de,g as V,_ as ce,h as fe,p as f,q as ge,s as P,o as p,c as h,a as _,F as U,r as E,t as A,v as me,y as $,x as H,E as R,b as O,V as G,C as ve,w as q,d as be}from"./DhvudJ1K.js";import{_ as pe}from"./0dpMvJQH.js";import{s as ye,a as K,u as he,b as _e,_ as Ce}from"./D_QMSt37.js";import{u as ze,_ as De}from"./BaQsyTry.js";import{u as Ie}from"./Cj9m490E.js";const je=e=>e==="defer"||e===!1;function Je(...e){var B;const i=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(i);let[n,t,a={}]=e;if(typeof n!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof t!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const l=te(),C=t,d=()=>j.value,y=()=>l.isHydrating?l.payload.data[n]:l.static.data[n];a.server=a.server??!0,a.default=a.default??d,a.getCachedData=a.getCachedData??y,a.lazy=a.lazy??!1,a.immediate=a.immediate??!0,a.deep=a.deep??j.deep,a.dedupe=a.dedupe??"cancel";const r=a.getCachedData(n,l),z=r!=null;if(!l._asyncData[n]||!a.immediate){(B=l.payload._errors)[n]??(B[n]=j.errorValue);const c=a.deep?S:ne;l._asyncData[n]={data:c(z?r:a.default()),pending:S(!z),error:M(l.payload._errors,n),status:S("idle"),_default:a.default}}const s={...l._asyncData[n]};delete s._default,s.refresh=s.execute=(c={})=>{if(l._asyncDataPromises[n]){if(je(c.dedupe??a.dedupe))return l._asyncDataPromises[n];l._asyncDataPromises[n].cancelled=!0}if(c._initial||l.isHydrating&&c._initial!==!1){const g=c._initial?r:a.getCachedData(n,l);if(g!=null)return Promise.resolve(g)}s.pending.value=!0,s.status.value="pending";const v=new Promise((g,u)=>{try{g(C(l))}catch(w){u(w)}}).then(async g=>{if(v.cancelled)return l._asyncDataPromises[n];let u=g;a.transform&&(u=await a.transform(g)),a.pick&&(u=ke(u,a.pick)),l.payload.data[n]=u,s.data.value=u,s.error.value=j.errorValue,s.status.value="success"}).catch(g=>{if(v.cancelled)return l._asyncDataPromises[n];s.error.value=se(g),s.data.value=L(a.default()),s.status.value="error"}).finally(()=>{v.cancelled||(s.pending.value=!1,delete l._asyncDataPromises[n])});return l._asyncDataPromises[n]=v,l._asyncDataPromises[n]},s.clear=()=>we(l,n);const m=()=>s.refresh({_initial:!0}),I=a.server!==!1&&l.payload.serverRendered;{const c=oe();if(c&&I&&a.immediate&&!c.sp&&(c.sp=[]),c&&!c._nuxtOnBeforeMountCbs){c._nuxtOnBeforeMountCbs=[];const u=c._nuxtOnBeforeMountCbs;ie(()=>{u.forEach(w=>{w()}),u.splice(0,u.length)}),le(()=>u.splice(0,u.length))}I&&l.isHydrating&&(s.error.value||r!=null)?(s.pending.value=!1,s.status.value=s.error.value?"error":"success"):c&&(l.payload.serverRendered&&l.isHydrating||a.lazy)&&a.immediate?c._nuxtOnBeforeMountCbs.push(m):a.immediate&&m();const v=ue();if(a.watch){const u=re(a.watch,()=>s.refresh());v&&W(u)}const g=l.hook("app:data:refresh",async u=>{(!u||u.includes(n))&&await s.refresh()});v&&W(g)}const D=Promise.resolve(l._asyncDataPromises[n]).then(()=>s);return Object.assign(D,s),D}function we(e,i){i in e.payload.data&&(e.payload.data[i]=void 0),i in e.payload._errors&&(e.payload._errors[i]=j.errorValue),e._asyncData[i]&&(e._asyncData[i].data.value=void 0,e._asyncData[i].error.value=j.errorValue,e._asyncData[i].pending.value=!1,e._asyncData[i].status.value="idle"),i in e._asyncDataPromises&&(e._asyncDataPromises[i]&&(e._asyncDataPromises[i].cancelled=!0),e._asyncDataPromises[i]=void 0)}function ke(e,i){const n={};for(const t of i)n[t]=e[t];return n}const b=de(V.ui.strategy,V.ui.select,ye),Pe=fe({components:{UIcon:K},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>b.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>b.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(b.size).includes(e)}},color:{type:String,default:()=>b.default.color,validator(e){return[...V.ui.colors,...Object.keys(b.color)].includes(e)}},variant:{type:String,default:()=>b.default.variant,validator(e){return[...Object.keys(b.variant),...Object.values(b.color).flatMap(i=>Object.keys(i))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:i,slots:n}){const{ui:t,attrs:a}=he("select",M(e,"ui"),b,M(e,"class")),{size:l,rounded:C}=_e({ui:t,props:e}),{emitFormChange:d,inputId:y,color:r,size:z,name:s}=ze(e,b),m=f(()=>l.value??z.value),I=o=>{i("update:modelValue",o.target.value)},D=o=>{i("change",o.target.value),d()},B=o=>G(o,e.valueAttribute,""),c=o=>G(o,e.optionAttribute,""),v=o=>["string","number","boolean"].includes(typeof o)?{[e.valueAttribute]:o,[e.optionAttribute]:o}:{...o,[e.valueAttribute]:B(o),[e.optionAttribute]:c(o)},g=f(()=>e.options.map(o=>v(o))),u=f(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...g.value]:g.value),w=f(()=>{const o=v(e.modelValue),k=u.value.find(N=>N[e.valueAttribute]===o[e.valueAttribute]);return k?k[e.valueAttribute]:""}),Q=f(()=>{var k,N;const o=((N=(k=t.value.color)==null?void 0:k[r.value])==null?void 0:N[e.variant])||t.value.variant[e.variant];return ge(P(t.value.base,t.value.form,C.value,t.value.size[m.value],e.padded?t.value.padding[m.value]:"p-0",o==null?void 0:o.replaceAll("{color}",r.value),(T.value||n.leading)&&t.value.leading.padding[m.value],(F.value||n.trailing)&&t.value.trailing.padding[m.value]),e.placeholder&&!e.modelValue&&t.value.placeholder,e.selectClass)}),T=f(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),F=f(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),X=f(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),Y=f(()=>e.loading&&!T.value?e.loadingIcon:e.trailingIcon||e.icon),Z=f(()=>P(t.value.icon.leading.wrapper,t.value.icon.leading.pointer,t.value.icon.leading.padding[m.value])),x=f(()=>P(t.value.icon.base,r.value&&V.ui.colors.includes(r.value)&&t.value.icon.color.replaceAll("{color}",r.value),t.value.icon.size[m.value],e.loading&&t.value.icon.loading)),ee=f(()=>P(t.value.icon.trailing.wrapper,t.value.icon.trailing.pointer,t.value.icon.trailing.padding[m.value])),ae=f(()=>P(t.value.icon.base,r.value&&V.ui.colors.includes(r.value)&&t.value.icon.color.replaceAll("{color}",r.value),t.value.icon.size[m.value],e.loading&&!T.value&&t.value.icon.loading));return{ui:t,attrs:a,name:s,inputId:y,normalizedOptionsWithPlaceholder:u,normalizedValue:w,isLeading:T,isTrailing:F,selectClass:Q,leadingIconName:X,leadingIconClass:x,leadingWrapperIconClass:Z,trailingIconName:Y,trailingIconClass:ae,trailingWrapperIconClass:ee,onInput:I,onChange:D}}}),$e=["id","name","value","required","disabled"],Se=["value","label"],Ve=["value","selected","disabled","textContent"],Ae=["value","selected","disabled","textContent"];function Oe(e,i,n,t,a,l){const C=K;return p(),h("div",{class:$(e.ui.wrapper)},[_("select",me({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:i[0]||(i[0]=(...d)=>e.onInput&&e.onInput(...d)),onChange:i[1]||(i[1]=(...d)=>e.onChange&&e.onChange(...d))}),[(p(!0),h(U,null,E(e.normalizedOptionsWithPlaceholder,(d,y)=>(p(),h(U,null,[d.children?(p(),h("optgroup",{key:`${d[e.valueAttribute]}-optgroup-${y}`,value:d[e.valueAttribute],label:d[e.optionAttribute]},[(p(!0),h(U,null,E(d.children,(r,z)=>(p(),h("option",{key:`${r[e.valueAttribute]}-${y}-${z}`,value:r[e.valueAttribute],selected:r[e.valueAttribute]===e.normalizedValue,disabled:r.disabled,textContent:A(r[e.optionAttribute])},null,8,Ve))),128))],8,Se)):(p(),h("option",{key:`${d[e.valueAttribute]}-${y}`,value:d[e.valueAttribute],selected:d[e.valueAttribute]===e.normalizedValue,disabled:d.disabled,textContent:A(d[e.optionAttribute])},null,8,Ae))],64))),256))],16,$e),e.isLeading&&e.leadingIconName||e.$slots.leading?(p(),h("span",{key:0,class:$(e.leadingWrapperIconClass)},[H(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[O(C,{name:e.leadingIconName,class:$(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):R("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(p(),h("span",{key:1,class:$(e.trailingWrapperIconClass)},[H(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[O(C,{name:e.trailingIconName,class:$(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):R("",!0)],2)}const Be=ce(Pe,[["render",Oe],["__scopeId","data-v-9f80dc9e"]]),Te=["src","alt"],Ne={class:"p-4"},qe={class:"text-xl font-semibold mb-2 text-brown-700"},Ue={class:"text-gray-700 mb-3 line-clamp-2"},Me={class:"flex justify-between items-center"},Fe={class:"flex items-center space-x-2"},We={class:"text-gray-800 font-medium"},Ee={class:"flex justify-center mt-2"},Qe={__name:"ProductCard",props:{tea:{type:Object,required:!0}},setup(e){const i=e,{addToCart:n}=Ie(),t=S("100"),a=S([{label:"100 г",value:"100"},{label:"200 г",value:"200"},{label:"500 г",value:"500"}]),l=f(()=>i.tea.price),C=f(()=>`${(l.value*t.value/100*90).toFixed(2)} ₽`),d=()=>{};return(y,r)=>{const z=pe,s=Be,m=Ce,I=De;return p(),ve(I,{ui:{rounded:"rounded-lg",shadow:"shadow-md",ring:"ring-1 ring-gray-200 dark:ring-gray-700"}},{header:q(()=>[O(z,{to:`/tea/${e.tea.id}`},{default:q(()=>[_("img",{src:e.tea.image,alt:e.tea.name,class:"w-full product-image rounded-t-lg cursor-pointer"},null,8,Te)]),_:1},8,["to"])]),default:q(()=>[_("div",Ne,[_("h3",qe,A(e.tea.name),1),_("p",Ue,A(e.tea.description),1),_("div",Me,[_("div",Fe,[O(s,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=D=>t.value=D),options:a.value,size:"xs",ui:{rounded:"rounded-md"},onChange:d},null,8,["modelValue","options"]),_("span",We,A(C.value),1)])]),_("div",Ee,[O(m,{color:"green",size:"lg",variant:"solid",class:"transition-colors duration-300 hover:bg-green-600 focus:bg-green-700",onClick:r[1]||(r[1]=D=>L(n)(e.tea))},{default:q(()=>r[2]||(r[2]=[be(" Добавить в корзину ")])),_:1})])])]),_:1})}}},J=[{id:1,name:"Зеленый чай Сенча",description:"Японский зеленый чай, имеет свежий травянистый аромат и легкий сладковатый вкус. Идеально подходит для утреннего чаепития.",price:18,image:"https://moschaitorg.ru/upload/resize_cache/iblock/cd6/8s73sgtxqy6xi8bdktudvd5ijdfigr25/689_689_14386c7d0a80fb8aee4bdea45538d5f0b/zelenyy_chay_sencha.png",type:"Зеленый чай"},{id:2,name:"Черный чай Ассам",description:"Индийский черный чай, обладает насыщенным солодовым вкусом и крепким ароматом. Отлично подходит для завтрака.",price:22,image:"https://moschaitorg.ru/upload/resize_cache/iblock/773/4lpfufehlp0pzhul7rthar2bx3tbrn6w/700_700_14386c7d0a80fb8aee4bdea45538d5f0b/C007.png",type:"Черный чай"},{id:3,name:"Белый Бай Хао Инь Чжень",description:"Китайский белый чай, имеет нежный цветочный аромат и мягкий сладковатый вкус. Прекрасен для расслабляющего чаепития.",price:28,image:"https://moschaitorg.ru/upload/resize_cache/iblock/0c0/1000_1000_24386c7d0a80fb8aee4bdea45538d5f0b/0c0014ce126053b3c56813ee07e3c709.jpg",type:"Белый чай"},{id:4,name:"Улун Те Гуань Инь",description:"Китайский улун, имеет сложный фруктовый аромат и освежающий вкус. Подходит для послеобеденного чаепития.",price:25,image:"https://moschaitorg.ru/upload/resize_cache/iblock/29c/6jod4ppjhd9z2a4u07cd9abdfzsy1o5v/1000_1000_14386c7d0a80fb8aee4bdea45538d5f0b/ulun_te_guan_in_s_zhasminom_i_godzhi.jpg",type:"Улун"},{id:5,name:"Матча церемониальная",description:"Японский порошковый зеленый чай, обладает насыщенным травянистым вкусом и ярким зеленым цветом. Используется для чайной церемонии.",price:35,image:"https://moschaitorg.ru/upload/resize_cache/iblock/7ab/ygm4rwl08jmf6zhut31fepi98kifkftj/700_700_14386c7d0a80fb8aee4bdea45538d5f0b/zelenaya_matcha_premium_yaponiya.jpg",type:"Матча"},{id:6,name:"Эрл Грей",description:"Ароматный черный чай с добавлением масла бергамота. Насыщенный вкус и отличный аромат.",price:20,image:"https://moschaitorg.ru/upload/resize_cache/iblock/006/x1nxyjwlep82fu4y1d45zgi48v4gdwqs/700_700_14386c7d0a80fb8aee4bdea45538d5f0b/chernyy_chay_erl_grey_klassik.jpg",type:"Черный чай"},{id:7,name:"Ройбуш",description:"Натуральный травяной напиток из Южной Африки. Не содержит кофеина.",price:15,image:"https://moschaitorg.ru/upload/resize_cache/iblock/e27/843rlxnanum0uivpuv08q5m8mu8ytpav/800_800_14386c7d0a80fb8aee4bdea45538d5f0b/1_2-kopiya.jpg",type:"Травяной чай"},{id:8,name:"Жасминовый чай",description:"Зеленый чай, ароматизированный цветками жасмина. Приятный цветочный аромат.",price:23,image:"https://moschaitorg.ru/upload/resize_cache/iblock/75a/jf8g1m0vlg89n7dt4divsgmfawk12ess/1000_1000_24386c7d0a80fb8aee4bdea45538d5f0b/1-kopiya.jpg",type:"Зеленый чай"},{id:9,name:"Пуэр",description:"Китайский постферментированный чай. Обладает землистым вкусом и имеет своеобразный аромат.",price:30,image:"https://moschaitorg.ru/upload/resize_cache/iblock/8d7/yebw5zqdgqjti2jfm4gatag9bpioxvhh/700_700_14386c7d0a80fb8aee4bdea45538d5f0b/shen_puer_rassypnoy_2016.jpg",type:"Черный чай"},{id:10,name:"Гречишный чай Ку Цяо",description:"Напиток из обжаренных семян татарской гречихи. Имеет ореховый вкус и аромат.",price:24,image:"https://moschaitorg.ru/upload/resize_cache/iblock/b5d/jn9oxhsrcvqduj0kix2fm2lqdam5ewdb/800_800_14386c7d0a80fb8aee4bdea45538d5f0b/1-kopiya.jpg",type:"Травяной чай"}];async function Xe(e={}){return new Promise(i=>{setTimeout(()=>{let n=[...J];e.featured&&(n=n.filter((t,a)=>a<3)),i(n)},200)})}async function Ye(e){return new Promise((i,n)=>{setTimeout(()=>{const t=J.find(a=>a.id==e);t?i(t):n("Tea not found")},200)})}export{Qe as _,Be as a,Ye as b,Xe as f,Je as u};
