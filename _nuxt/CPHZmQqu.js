import{u as v,b as U,f as j,_ as E,a as $}from"./jjNVLTBv.js";import{_ as A}from"./CEekrWeQ.js";import{_ as D}from"./B4YAuPtX.js";import{f as h,N as O,g,h as u,c as d,b as m,w as _,O as S,o as l,a as t,E as z,t as p,e as a,d as L,F as M,r as R,i as W}from"./BBj5wk8k.js";import{u as q}from"./NaIVmLlq.js";import"./DSOqU5re.js";import"./DSDJk9hB.js";const G={class:"container mx-auto py-10"},H={class:"flex justify-center"},I=["src","alt"],J={class:"p-6"},K={class:"text-4xl font-bold mb-4 text-brown-700"},Q={class:"text-gray-700 mb-6"},X={class:"flex justify-between items-center mb-4"},Y={class:"flex items-center space-x-2"},Z={class:"text-gray-800 font-medium text-xl"},ee={key:0},te={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ue={__name:"[slug]",async setup(se){let o,r;const b=S(),{data:s,error:w}=([o,r]=h(()=>v("tea",()=>U(b.params.slug))),o=await o,r(),o),{addToCart:y}=q();if(w.value)throw O({statusCode:404,statusMessage:"Tea Not Found"});const c=g("100"),C=g([{label:"100 г",value:"100"},{label:"200 г",value:"200"},{label:"500 г",value:"500"}]),T=u(()=>s.value.price),V=u(()=>`${(T.value*c.value/100*90).toFixed(2)} ₽`),k=()=>{},{data:f}=([o,r]=h(()=>v("allTeas",()=>j())),o=await o,r(),o),x=u(()=>{if(!s.value||!f.value)return[];const i=s.value.type;return f.value.filter(e=>e.type===i&&e.id!==s.value.id).slice(0,3)});return(i,e)=>{const N=E,B=A,F=$,P=D;return l(),d("div",G,[m(P,{ui:{rounded:"rounded-xl",shadow:"shadow-md"}},{header:_(()=>[t("div",H,[t("img",{src:a(s).image,alt:a(s).name,class:"max-w-full max-h-[500px] object-contain rounded-t-xl"},null,8,I)])]),default:_(()=>[t("div",J,[t("h2",K,p(a(s).name),1),t("p",Q,p(a(s).description),1),t("div",X,[t("div",Y,[m(N,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=n=>c.value=n),options:C.value,size:"xs",ui:{rounded:"rounded-md"},onChange:k},null,8,["modelValue","options"]),t("span",Z,p(V.value),1)])]),m(B,{color:"green",variant:"solid",class:"w-full mb-6",onClick:e[1]||(e[1]=n=>a(y)(a(s)))},{default:_(()=>e[2]||(e[2]=[L(" Добавить в корзину ")])),_:1}),x.value.length>0?(l(),d("div",ee,[e[3]||(e[3]=t("h3",{class:"text-2xl font-semibold mb-4 text-brown-700"},"С этим товаром часто покупают",-1)),t("div",te,[(l(!0),d(M,null,R(x.value,n=>(l(),W(F,{key:n.id,tea:n},null,8,["tea"]))),128))])])):z("",!0)])]),_:1})])}}};export{ue as default};
