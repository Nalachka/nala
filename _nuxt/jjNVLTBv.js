import{h as y,P as se,Q as ue,R as w,S as oe,T as ce,K as de,U as fe,x as H,V as J,g as L,W as M,s as G,N as ge,e as ee,D as me,_ as ve,l as be,c as z,o as D,a as I,E as Q,F as R,r as X,t as O,p as ye,q as V,n as Y,m as _e,y as he,z as $,k as B,X as Z,b as N,i as pe,w as A,d as De}from"./BBj5wk8k.js";import{_ as Ce}from"./DSOqU5re.js";import{a as ae,u as ze,b as Ie,s as we,_ as je}from"./CEekrWeQ.js";import{u as Pe,_ as Se}from"./B4YAuPtX.js";import{u as Ve}from"./NaIVmLlq.js";const $e={trailing:!0};function Oe(e,a=25,r={}){if(r={...$e,...r},!Number.isFinite(a))throw new TypeError("Expected `wait` to be a finite number");let t,n,s=[],l,o;const u=(i,c)=>(l=Be(e,i,c),l.finally(()=>{if(l=null,r.trailing&&o&&!n){const h=u(i,o);return o=null,h}}),l);return function(...i){return l?(r.trailing&&(o=i),l):new Promise(c=>{const h=!n&&r.leading;clearTimeout(n),n=setTimeout(()=>{n=null;const d=r.leading?t:u(this,i);for(const _ of s)_(d);s=[]},a),h?(t=u(this,i),c(t)):s.push(c)})}}async function Be(e,a,r){return await e.apply(a,r)}const Ne=Symbol.for("nuxt:client-only"),Te=e=>e==="defer"||e===!1;function ta(...e){var T;const a=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&typeof e[0]!="object"&&!(typeof e[0]=="function"&&typeof e[1]=="function")&&e.unshift(a);let[r,t,n={}]=e;const s=y(()=>se(r));if(typeof s.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof t!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const l=ue(),o=()=>w.value,u=(f,b,j)=>{if(b.isHydrating)return b.payload.data[f];if(j.cause!=="refresh:manual"&&j.cause!=="refresh:hook")return b.static.data[f]};n.server??(n.server=!0),n.default??(n.default=o),n.getCachedData??(n.getCachedData=u),n.lazy??(n.lazy=!1),n.immediate??(n.immediate=!0),n.deep??(n.deep=w.deep),n.dedupe??(n.dedupe="cancel"),n._functionName,l._asyncData[s.value];const i=n.getCachedData(s.value,l,{cause:"initial"});(T=l._asyncData[s.value])!=null&&T._init||(l._asyncData[s.value]=x(l,s.value,t,n,i));const c=l._asyncData[s.value];c._deps++;const h=()=>l._asyncData[s.value].execute({cause:"initial",dedupe:n.dedupe}),d=n.server!==!1&&l.payload.serverRendered;{let f=function(v){const m=l._asyncData[v];m!=null&&m._deps&&(m._deps--,m._deps===0&&(m==null||m._off(),m._init=!1,K(l,v),m.execute=()=>Promise.resolve(),l._asyncData[v].data.value=w.value))};const b=oe();if(b&&d&&n.immediate&&!b.sp&&(b.sp=[]),b&&!b._nuxtOnBeforeMountCbs){b._nuxtOnBeforeMountCbs=[];const v=b._nuxtOnBeforeMountCbs;ce(()=>{v.forEach(m=>{m()}),v.splice(0,v.length)}),de(()=>v.splice(0,v.length))}const j=b&&(b._nuxtClientOnly||fe(Ne,!1));d&&l.isHydrating&&(c.error.value||i!=null)?(c.pending.value=!1,c.status.value=c.error.value?"error":"success"):b&&!j&&(l.payload.serverRendered&&l.isHydrating||n.lazy)&&n.immediate?b._nuxtOnBeforeMountCbs.push(h):n.immediate&&h();const P=me();if(n.watch){const v=H(n.watch,()=>{c._execute({cause:"watch",dedupe:n.dedupe})},{flush:"post"});P&&J(()=>v())}const W=H(s,(v,m)=>{var q,E;const k=((q=l._asyncData[m])==null?void 0:q.data.value)!==w.value;m&&f(m),(E=l._asyncData[v])!=null&&E._init||(l._asyncData[v]=x(l,v,t,n,n.getCachedData(v,l,{cause:"initial"}))),l._asyncData[v]._deps++,(n.immediate||k)&&l._asyncData[v].execute({cause:"initial",dedupe:n.dedupe})},{flush:"sync"});P&&J(()=>{W(),f(s.value)})}const _={data:F(()=>{var f;return(f=l._asyncData[s.value])==null?void 0:f.data}),pending:F(()=>{var f;return(f=l._asyncData[s.value])==null?void 0:f.pending}),status:F(()=>{var f;return(f=l._asyncData[s.value])==null?void 0:f.status}),error:F(()=>{var f;return(f=l._asyncData[s.value])==null?void 0:f.error}),refresh:(...f)=>l._asyncData[s.value].execute(...f),execute:(...f)=>l._asyncData[s.value].execute(...f),clear:()=>K(l,s.value)},C=Promise.resolve(l._asyncDataPromises[s.value]).then(()=>_);return Object.assign(C,_),C}function F(e){return y({get(){var a;return(a=e())==null?void 0:a.value},set(a){const r=e();r&&(r.value=a)}})}function K(e,a){a in e.payload.data&&(e.payload.data[a]=void 0),a in e.payload._errors&&(e.payload._errors[a]=w.errorValue),e._asyncData[a]&&(e._asyncData[a].data.value=void 0,e._asyncData[a].error.value=w.errorValue,e._asyncData[a].pending.value=!1,e._asyncData[a].status.value="idle"),a in e._asyncDataPromises&&(e._asyncDataPromises[a]&&(e._asyncDataPromises[a].cancelled=!0),e._asyncDataPromises[a]=void 0)}function ke(e,a){const r={};for(const t of a)r[t]=e[t];return r}function x(e,a,r,t,n){var i;(i=e.payload._errors)[a]??(i[a]=w.errorValue);const s=r,l=t.deep?L:M,o=n!=null,u={data:l(o?n:t.default()),pending:M(!o),error:G(e.payload._errors,a),status:M("idle"),execute:(c={})=>{if(e._asyncDataPromises[a]){if(Te(c.dedupe??t.dedupe))return e._asyncDataPromises[a];e._asyncDataPromises[a].cancelled=!0}if(c.cause==="initial"||e.isHydrating){const d=c.cause==="initial"?n:t.getCachedData(a,e,{cause:c.cause??"refresh:manual"});if(d!=null)return e.payload.data[a]=u.data.value=d,u.error.value=w.errorValue,u.status.value="success",Promise.resolve(d)}u.pending.value=!0,u.status.value="pending";const h=new Promise((d,_)=>{try{d(s(e))}catch(C){_(C)}}).then(async d=>{if(h.cancelled)return e._asyncDataPromises[a];let _=d;t.transform&&(_=await t.transform(d)),t.pick&&(_=ke(_,t.pick)),e.payload.data[a]=_,u.data.value=_,u.error.value=w.errorValue,u.status.value="success"}).catch(d=>{if(h.cancelled)return e._asyncDataPromises[a];u.error.value=ge(d),u.data.value=ee(t.default()),u.status.value="error"}).finally(()=>{h.cancelled||(u.pending.value=!1,delete e._asyncDataPromises[a])});return e._asyncDataPromises[a]=h,e._asyncDataPromises[a]},_execute:Oe((...c)=>u.execute(...c),0,{leading:!0}),_default:t.default,_deps:0,_init:!0,_hash:void 0,_off:e.hook("app:data:refresh",async c=>{(!c||c.includes(a))&&await u.execute({cause:"refresh:hook"})})};return u}const p=_e(B.ui.strategy,B.ui.select,we),qe=be({components:{UIcon:ae},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>p.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>p.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(p.size).includes(e)}},color:{type:String,default:()=>p.default.color,validator(e){return[...B.ui.colors,...Object.keys(p.color)].includes(e)}},variant:{type:String,default:()=>p.default.variant,validator(e){return[...Object.keys(p.variant),...Object.values(p.color).flatMap(a=>Object.keys(a))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:a,slots:r}){const{ui:t,attrs:n}=ze("select",G(e,"ui"),p,G(e,"class")),{size:s,rounded:l}=Ie({ui:t,props:e}),{emitFormChange:o,inputId:u,color:i,size:c,name:h}=Pe(e,p),d=y(()=>s.value??c.value),_=g=>{a("update:modelValue",g.target.value)},C=g=>{a("change",g.target.value),o()},T=g=>Z(g,e.valueAttribute,""),f=g=>Z(g,e.optionAttribute,""),b=g=>["string","number","boolean"].includes(typeof g)?{[e.valueAttribute]:g,[e.optionAttribute]:g}:{...g,[e.valueAttribute]:T(g),[e.optionAttribute]:f(g)},j=y(()=>e.options.map(g=>b(g))),P=y(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...j.value]:j.value),W=y(()=>{const g=b(e.modelValue),S=P.value.find(U=>U[e.valueAttribute]===g[e.valueAttribute]);return S?S[e.valueAttribute]:""}),v=y(()=>{var S,U;const g=((U=(S=t.value.color)==null?void 0:S[i.value])==null?void 0:U[e.variant])||t.value.variant[e.variant];return he($(t.value.base,t.value.form,l.value,t.value.size[d.value],e.padded?t.value.padding[d.value]:"p-0",g==null?void 0:g.replaceAll("{color}",i.value),(m.value||r.leading)&&t.value.leading.padding[d.value],(k.value||r.trailing)&&t.value.trailing.padding[d.value]),e.placeholder&&!e.modelValue&&t.value.placeholder,e.selectClass)}),m=y(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),k=y(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),q=y(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),E=y(()=>e.loading&&!m.value?e.loadingIcon:e.trailingIcon||e.icon),ne=y(()=>$(t.value.icon.leading.wrapper,t.value.icon.leading.pointer,t.value.icon.leading.padding[d.value])),le=y(()=>$(t.value.icon.base,i.value&&B.ui.colors.includes(i.value)&&t.value.icon.color.replaceAll("{color}",i.value),t.value.icon.size[d.value],e.loading&&t.value.icon.loading)),ie=y(()=>$(t.value.icon.trailing.wrapper,t.value.icon.trailing.pointer,t.value.icon.trailing.padding[d.value])),re=y(()=>$(t.value.icon.base,i.value&&B.ui.colors.includes(i.value)&&t.value.icon.color.replaceAll("{color}",i.value),t.value.icon.size[d.value],e.loading&&!m.value&&t.value.icon.loading));return{ui:t,attrs:n,name:h,inputId:u,normalizedOptionsWithPlaceholder:P,normalizedValue:W,isLeading:m,isTrailing:k,selectClass:v,leadingIconName:q,leadingIconClass:le,leadingWrapperIconClass:ne,trailingIconName:E,trailingIconClass:re,trailingWrapperIconClass:ie,onInput:_,onChange:C}}}),Ee=["id","name","value","required","disabled"],Ue=["value","label"],Ae=["value","selected","disabled","textContent"],Fe=["value","selected","disabled","textContent"];function We(e,a,r,t,n,s){const l=ae;return D(),z("div",{class:V(e.ui.wrapper)},[I("select",ye({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:a[0]||(a[0]=(...o)=>e.onInput&&e.onInput(...o)),onChange:a[1]||(a[1]=(...o)=>e.onChange&&e.onChange(...o))}),[(D(!0),z(R,null,X(e.normalizedOptionsWithPlaceholder,(o,u)=>(D(),z(R,null,[o.children?(D(),z("optgroup",{key:`${o[e.valueAttribute]}-optgroup-${u}`,value:o[e.valueAttribute],label:o[e.optionAttribute]},[(D(!0),z(R,null,X(o.children,(i,c)=>(D(),z("option",{key:`${i[e.valueAttribute]}-${u}-${c}`,value:i[e.valueAttribute],selected:i[e.valueAttribute]===e.normalizedValue,disabled:i.disabled,textContent:O(i[e.optionAttribute])},null,8,Ae))),128))],8,Ue)):(D(),z("option",{key:`${o[e.valueAttribute]}-${u}`,value:o[e.valueAttribute],selected:o[e.valueAttribute]===e.normalizedValue,disabled:o.disabled,textContent:O(o[e.optionAttribute])},null,8,Fe))],64))),256))],16,Ee),e.isLeading&&e.leadingIconName||e.$slots.leading?(D(),z("span",{key:0,class:V(e.leadingWrapperIconClass)},[Y(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[N(l,{name:e.leadingIconName,class:V(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):Q("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(D(),z("span",{key:1,class:V(e.trailingWrapperIconClass)},[Y(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[N(l,{name:e.trailingIconName,class:V(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):Q("",!0)],2)}const Me=ve(qe,[["render",We],["__scopeId","data-v-9f80dc9e"]]),Re=["src","alt"],Le={class:"p-4"},Ge={class:"text-xl font-semibold mb-2 text-brown-700"},He={class:"text-gray-700 mb-3 line-clamp-2"},Je={class:"flex justify-between items-center"},Qe={class:"flex items-center space-x-2"},Xe={class:"text-gray-800 font-medium"},Ye={class:"flex justify-center mt-2"},na={__name:"ProductCard",props:{tea:{type:Object,required:!0}},setup(e){const a=e,{addToCart:r}=Ve(),t=L("100"),n=L([{label:"100 г",value:"100"},{label:"200 г",value:"200"},{label:"500 г",value:"500"}]),s=y(()=>a.tea.price),l=y(()=>`${(s.value*t.value/100*90).toFixed(2)} ₽`),o=()=>{};return(u,i)=>{const c=Ce,h=Me,d=je,_=Se;return D(),pe(_,{ui:{rounded:"rounded-lg",shadow:"shadow-md",ring:"ring-1 ring-gray-200 dark:ring-gray-700"}},{header:A(()=>[N(c,{to:`/tea/${e.tea.id}`},{default:A(()=>[I("img",{src:e.tea.image,alt:e.tea.name,class:"w-full product-image rounded-t-lg cursor-pointer"},null,8,Re)]),_:1},8,["to"])]),default:A(()=>[I("div",Le,[I("h3",Ge,O(e.tea.name),1),I("p",He,O(e.tea.description),1),I("div",Je,[I("div",Qe,[N(h,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=C=>t.value=C),options:n.value,size:"xs",ui:{rounded:"rounded-md"},onChange:o},null,8,["modelValue","options"]),I("span",Xe,O(l.value),1)])]),I("div",Ye,[N(d,{color:"green",size:"lg",variant:"solid",class:"transition-colors duration-300 hover:bg-green-600 focus:bg-green-700",onClick:i[1]||(i[1]=C=>ee(r)(e.tea))},{default:A(()=>i[2]||(i[2]=[De(" Добавить в корзину ")])),_:1})])])]),_:1})}}},te=[{id:1,name:"Зеленый чай Сенча",description:"Японский зеленый чай, имеет свежий травянистый аромат и легкий сладковатый вкус. Идеально подходит для утреннего чаепития.",price:18,image:"https://moschaitorg.ru/upload/resize_cache/iblock/cd6/8s73sgtxqy6xi8bdktudvd5ijdfigr25/689_689_14386c7d0a80fb8aee4bdea45538d5f0b/zelenyy_chay_sencha.png",type:"Зеленый чай"},{id:2,name:"Черный чай Ассам",description:"Индийский черный чай, обладает насыщенным солодовым вкусом и крепким ароматом. Отлично подходит для завтрака.",price:22,image:"https://moschaitorg.ru/upload/resize_cache/iblock/773/4lpfufehlp0pzhul7rthar2bx3tbrn6w/700_700_14386c7d0a80fb8aee4bdea45538d5f0b/C007.png",type:"Черный чай"},{id:3,name:"Белый Бай Хао Инь Чжень",description:"Китайский белый чай, имеет нежный цветочный аромат и мягкий сладковатый вкус. Прекрасен для расслабляющего чаепития.",price:28,image:"https://moschaitorg.ru/upload/resize_cache/iblock/0c0/1000_1000_24386c7d0a80fb8aee4bdea45538d5f0b/0c0014ce126053b3c56813ee07e3c709.jpg",type:"Белый чай"},{id:4,name:"Улун Те Гуань Инь",description:"Китайский улун, имеет сложный фруктовый аромат и освежающий вкус. Подходит для послеобеденного чаепития.",price:25,image:"https://moschaitorg.ru/upload/resize_cache/iblock/29c/6jod4ppjhd9z2a4u07cd9abdfzsy1o5v/1000_1000_14386c7d0a80fb8aee4bdea45538d5f0b/ulun_te_guan_in_s_zhasminom_i_godzhi.jpg",type:"Улун"},{id:5,name:"Матча церемониальная",description:"Японский порошковый зеленый чай, обладает насыщенным травянистым вкусом и ярким зеленым цветом. Используется для чайной церемонии.",price:35,image:"https://moschaitorg.ru/upload/resize_cache/iblock/7ab/ygm4rwl08jmf6zhut31fepi98kifkftj/700_700_14386c7d0a80fb8aee4bdea45538d5f0b/zelenaya_matcha_premium_yaponiya.jpg",type:"Матча"},{id:6,name:"Эрл Грей",description:"Ароматный черный чай с добавлением масла бергамота. Насыщенный вкус и отличный аромат.",price:20,image:"https://moschaitorg.ru/upload/resize_cache/iblock/006/x1nxyjwlep82fu4y1d45zgi48v4gdwqs/700_700_14386c7d0a80fb8aee4bdea45538d5f0b/chernyy_chay_erl_grey_klassik.jpg",type:"Черный чай"},{id:7,name:"Ройбуш",description:"Натуральный травяной напиток из Южной Африки. Не содержит кофеина.",price:15,image:"https://moschaitorg.ru/upload/resize_cache/iblock/e27/843rlxnanum0uivpuv08q5m8mu8ytpav/800_800_14386c7d0a80fb8aee4bdea45538d5f0b/1_2-kopiya.jpg",type:"Травяной чай"},{id:8,name:"Жасминовый чай",description:"Зеленый чай, ароматизированный цветками жасмина. Приятный цветочный аромат.",price:23,image:"https://moschaitorg.ru/upload/resize_cache/iblock/75a/jf8g1m0vlg89n7dt4divsgmfawk12ess/1000_1000_24386c7d0a80fb8aee4bdea45538d5f0b/1-kopiya.jpg",type:"Зеленый чай"},{id:9,name:"Пуэр",description:"Китайский постферментированный чай. Обладает землистым вкусом и имеет своеобразный аромат.",price:30,image:"https://moschaitorg.ru/upload/resize_cache/iblock/8d7/yebw5zqdgqjti2jfm4gatag9bpioxvhh/700_700_14386c7d0a80fb8aee4bdea45538d5f0b/shen_puer_rassypnoy_2016.jpg",type:"Черный чай"},{id:10,name:"Гречишный чай Ку Цяо",description:"Напиток из обжаренных семян татарской гречихи. Имеет ореховый вкус и аромат.",price:24,image:"https://moschaitorg.ru/upload/resize_cache/iblock/b5d/jn9oxhsrcvqduj0kix2fm2lqdam5ewdb/800_800_14386c7d0a80fb8aee4bdea45538d5f0b/1-kopiya.jpg",type:"Травяной чай"}];async function la(e={}){return new Promise(a=>{setTimeout(()=>{let r=[...te];e.featured&&(r=r.filter((t,n)=>n<3)),a(r)},200)})}async function ia(e){return new Promise((a,r)=>{setTimeout(()=>{const t=te.find(n=>n.id==e);t?a(t):r("Tea not found")},200)})}export{Me as _,na as a,ia as b,la as f,ta as u};
